version: '3'
services:
  weightsrv:
    build:
      context: ./gan-shmuel-green/weight
    ports:
      - "8080:5000"

  weightdb:
   build:
     context: ./gan-shmuel-green/weight
     dockerfile: Dockerfile.sql
   ports:
    - "8081:3306"

  providerssrv:
    build:
      context: ./gan-shmuel-green/providers/
    ports:
      - "8090:5000"

  providersdb:
    build:
      context: ./gan-shmuel-green/providers/
      dockerfile: Dockerfile.sql
    ports:
      - "8091:3306"

  test:
    build:
      context: ./endtoend
    volumes:
      - /endtoend/logs:/endtoend/log
